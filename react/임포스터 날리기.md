## 임포스터날리기를 만들면서

블로그가 밋밋하기도하고 최근 가장 좋아하는 어몽어스에 나오는 임포스터라는 포지션캐릭터가 퇴출되는 모습이 아른거려 블로그에 넣어야지로 시작했읍니다.

리액트의 생명주기와 가상돔에서 실제돔과의 비교에대한 기준에대해 엄청 많이 생각했고

결국 만들긴 했는데 어디서 어느차이가 있는지는 차차 확인해보야할것 같습니다.

아주 단순히 그냥 날아가는 임포스터이미지를 가진 컴포넌트를 생성하는게 다인데 만드는게 익숙하지않고 이론만 봤던 나는 많은 생각을 했습니다.

(애니메이션이 처음부터 시작하지 않게하려면 앞서 누른 이벤트대미 애니메이션이 시작되는점을 새로 지정해줘야하는건가... 라는 생각까지했는데 이건 좀..)

여튼 클릭이벤트 -> 임포스터 컴포넌트 생성 -> 누를때마다 각자자기갈길가는 임포스터가 되도록

### 순서

- window에 왼쪽에서 오른쪽 끝으로 날아가는걸 목표로 Imposter 객체를 만들기(생성이후 N초뒤 사라지는 객체)
- Among이라는 객체에 Emergency버튼을 만들고 클릭이벤트 발생시 Imposter객체가 생성되도록 만들기
- css @keyframe에 위치값 랜덤 변수받아 연결하기
- 아무위치에서 생성되는 임포스터가 끊이지 않고 갈길 가게 만들기

분명히 이벤트(클릭)이 일어날때마다 나의 커여운 임포스터가 날아가야하는데 컴포넌트가 생성되자마자 css 애니메이션이 시작되고 몇초뒤엔 사라진다. 누르는 시점부터 끊이지 않고 날아가야하는게 가장 중요한데 list인 상태를 만들고 map객체로 뿌릴시 '분명 누를때만다 끊기겠지'라는 생각을했다. map객체는 for문처럼 리스트를 순서대로 돌며 함수를 적용해 새로운 리스트를 반환하는데 이때문에 클릭할때마다 새로 돌아처음 만들어진 객체도 다시 생성될줄알았고 그래서 '끊긴다'라 생각을했는데 왠일인지 끊기지 않는다..?

이는 왼쪽에서 오른쪽 랜덤위치를 지정하지 않고 그냥 같은경로로 여러 임포스터가 날아가는 상태였고 '이렇게 쉽게 만들어진다고'라고 생각했으나 키프레임에 변수를 적용하기위헤 Imposter컴포넌트에 값을 추가하자마자 리액트는 원래 생각했던 대로 전부 끊겨나가기 시작했다.

2초뒤에 컴포넌트를 죽였는데 처음 누른시점부터 죽는건 잘만하지만 위치값이 새로생성되면서 가상돔은 '이거 달라요 뺴액'하며 다시 렌더링 했고 css 애니메이션은 처음부터 돌다가 중간에 죽었다..

### createElement와 cloneElement의 차이

컴포넌트내부의 변화와 Propa의 변화가 가상돔의 비교에 영향

컴포넌트 내부에서 값이 바뀔때랑 Props의 값이 바뀔때의 차이로 끊기고 안끊기고의 차이가이었다.

리렌더링을 시키지 않기위해 랜덤값을 뽑는 과정을 부모 컴포넌트에서 처리하고 아래에서 받으니 추가된 컴포넌트만 독단적으로 생산되고 나머지는 생성 시점부터 쭉 이어져나갔다.

### styled components

keyframe에 변수를 받기위해 사용했는데 키프레임에 변수를 받으려면

변수의 이동경로

컴포넌트 -> 클래스컴포넌트의 animation속성의 키프레임 파라밈터 -> 키프레임

과 같이 도달해야한다.
